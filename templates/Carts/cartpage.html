{% extends "acubook/base.html" %}
{% block body_block %}
{% load static %}

<div class="container">
	<div class="row text-center">
		<div class="col-lg-12">
			<h2 class="cardheader cart">Shopping Cart</h2>
		</div>
		<div class="col-lg-10 table-responsive-lg">
			<table class="table table-hover table-striped">
				<thead class="thead-dark">
					<tr>
						<th scope="col">Book Image</th>
						<th scope="col">Book Title</th>
						<th scope="col">Unit Price</th>
						<th scope="col">Qty</th>
						<th scope="col">Subtotal </th>
					</tr>
				</thead>
				<!-- Create a loop of the cart items -->
				{% for item in cart_item %}
				<tr class="table-row">
					<td> <img src="{{ item.book.Book_image.url }}"></td>
					<td id="book-title">{{ item.book.Title }}</td>
					<td>#{{ item.book.Price }}</td>
					<td>{{ item.quantity }}</td>
					<td>#{{ item.price_subtotal }} &nbsp&nbsp<a href="{% url 'Carts:cart-update' %}?title={{ item.book.Title }}"><i class="fa fa-trash" aria-hidden="true"></i></a></td>

				</tr>
				{% endfor %}
				<!-- End the loop of the cart items -->
				<tr class="table-row">
					<td class="button-td"><a href="{% url 'acubook:index' %}" role="button" class="btn btn-info carts">Continue Shopping</a></td>
					<td class="table-td"></td>
					<td class="table-td"></td>
					<td></td>
					<td class="button-td"><a href="{% url 'Carts:clear-cart' %}" role="button" class="btn btn-secondary carts">Clear Cart</a></td>
				</tr>
			</table>
		</div>
		<br>
		
	</div>
	<br>
	<div class="row">
		<div class="col-lg-3 cart-div">
			<div class="card"> 
            <div class="card-body">
              <h5 class="card-title">Shopping Cart Total</h5>
              <br>
              <p class="card-text total-text">Grand Total:&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp#{{ total_price }}</p>
              <a href="{% url 'Carts:stripe-page' %}" role="button" class="btn btn-info carts">Checkout to Payment</a>
			</div>
			</div>
		</div>
		</div>
	</div>
</div>

{% endblock %}